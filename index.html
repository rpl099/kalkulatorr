<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <form class="form" name="nameform">
        <input class="value" name="nameinput" readonly placeholder="0">
        <span class="num clear" onclick="nameform.nameinput.value =''">C</span>
        <span class="num back" onclick="nameform.nameinput.value =nameform.nameinput.value.slice(0,-1)">DEL</span>
        <span class="num bagi" onclick="nameform.nameinput.value +='/'">/</span>
        <span class="num kali" onclick="nameform.nameinput.value +='*'">*</span>
        <span onclick="nameform.nameinput.value +='7'">7</span>
        <span onclick="nameform.nameinput.value +='8'">8</span>
        <span onclick="nameform.nameinput.value +='9'">9</span>
        <span onclick="nameform.nameinput.value +='+'">+</span>
        <span onclick="nameform.nameinput.value +='4'">4</span>
        <span onclick="nameform.nameinput.value +='5'">5</span>
        <span onclick="nameform.nameinput.value +='6'">6</span>
        <span onclick="nameform.nameinput.value +='-'">-</span>
        <span onclick="nameform.nameinput.value +='1'">1</span>
        <span onclick="nameform.nameinput.value +='2'">2</span>
        <span onclick="nameform.nameinput.value +='3'">3</span>
        <span class="kurung1" onclick="nameform.nameinput.value +='('">(</span>
        <span class="kurung2" onclick="nameform.nameinput.value +=')'">)</span>
        <span onclick="nameform.nameinput.value +='0'">0</span>
        <span onclick="nameform.nameinput.value +='00'">00</span>
        <span onclick="nameform.nameinput.value +='.'">.</span>
        <span class="equal" onclick="nameform.nameinput.value =eval(nameform.nameinput.value)">=</span>
    </form>
    <script>
        function addCommas(input) {
    return input.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
function removeCommas(input) {
    return input.replace(/,/g, '');
}
document.querySelectorAll('.form span:not(.clear, .kurung1, .kurung2)').forEach(function(button) {
    button.onclick = function() {
        var currentValue = removeCommas(nameform.nameinput.value);
        currentValue += this.textContent;
        nameform.nameinput.value = addCommas(currentValue);
    };
});
document.querySelector('.clear').onclick = function() {
    nameform.nameinput.value = '';
};
document.querySelector('.back').onclick = function() {
    var currentValue = removeCommas(nameform.nameinput.value);
    currentValue = currentValue.slice(0,-1);
    nameform.nameinput.value = addCommas(currentValue);
};
document.querySelector('.equal').onclick = function() {
    var currentValue = removeCommas(nameform.nameinput.value);
    var result = eval(currentValue);
    nameform.nameinput.value = addCommas(result);
};
document.querySelector('.bagi').onclick = function() {
    nameform.nameinput.value += '/';
};
document.querySelector('.kali').onclick = function() {
    nameform.nameinput.value += '*';
};
document.querySelector('.equal').onclick = function() {
    var currentValue = removeCommas(nameform.nameinput.value);
    var result = eval(currentValue);
    
    if (result === Infinity || result === -Infinity) {
        nameform.nameinput.value = "mana bisa gitu mas";
    } else {
        nameform.nameinput.value = addCommas(result);
    }
}
    </script>
    
</body>
</html>